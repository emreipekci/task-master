{% extends "base.html" %}

{% block head %}
<title>Task Master</title>
{% endblock %}

{% block body %}
<div class="content">
    <h1 style="text-align: center;">Task Master</h1>

    <table id="tasksTable">
        <thead>
            <tr>
                <th>Task</th>
                <th>Due</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody id="tasksBody">
            
                {% for task in tasks %}
                <tr id="task-{{ task.id }}">
                    <td>{{ task.content }}</td>
                    <td>{{ task.due_date }}</td>
                    <td>
                        <button onclick="deleteTask('{{ task.id }}')">Delete</button>
                        <button onclick="editTask('{{ task.id }}')">Update</button>
                    </td>
                </tr>
                {% endfor %}
            
        </tbody>   
    </table>
    
    {% if tasks|length < 1 %}
        <h4 id="noTasksText">There are no tasks. Create one below!</h4>
    {% endif %}

    <div class="form">
        <form id="addTaskForm">
            <input type="text" name="content" id="content" placeholder="Enter task">
            <input type="date" name="dueDate" id="dueDate" placeholder="Due date">
            <button type="submit">Add Task</button>
        </form>
    </div>

    {% if error %}
    <div style="color: red; margin-bottom: 10px;">{{ error }}</div>
    {% endif %}

</div>

{% endblock %}